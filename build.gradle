description = "Easy for Spring Boot: Build"

ext {
    // Basic project info
    projectGroup = "xyz.srclab.spring.boot"
    //projectVersion = "0.0.0-SNAPSHOT"
    projectVersion = "0.0.0"
    testProjectGroup = "${projectGroup}.test"
    testProjectVersion = "${projectVersion}"

    // Build components
    repositoriesGradle = "${project.rootDir}/buildSrc/repositories.gradle"
    deployGradle = "${project.rootDir}/buildSrc/deploy.gradle"
    compileKotlinGradle = "${project.rootDir}/buildSrc/compile-kotlin.gradle"

    // password components
    passwordGradle = "${project.rootDir}/buildSrc/password.gradle"
    privateGradle = "${System.getProperty("user.home")}/Home/Auth/private.gradle"
}

group = projectGroup
version = projectVersion

allprojects { project ->
    processProjectInfo(project)
}

subprojects {
}

def processProjectInfo(Project project) {
    if (project == rootProject) {
        // nop
    } else if (project.group == "easy-spring-boot-build.test") {
        project.group = testProjectGroup
        project.version = testProjectVersion
    } else {
        project.group = projectGroup
        project.version = projectVersion
    }
    println("Configure ${project.group}:${project.name}:${project.version}")
}

apply from: passwordGradle